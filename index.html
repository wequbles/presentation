<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–§–∏–ª–æ—Å–æ—Ñ–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Telegram ‚Äî –†–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è UX</title>

  <!-- Basic look & feel (can be moved to style.css) -->
  <style>
    :root{
      --bg: #ffffff;
      --soft: #e9f4fb;
      --muted: #a8c8dc;
      --accent: #2aabee;
      --glass: rgba(255,255,255,0.7);
      --card-shadow: 0 8px 24px rgba(42,171,238,0.08);
      --radius: 16px;
      --maxw: 1100px;
      --container-pad: 20px;
      --font-sans: "Inter", Roboto, system-ui, -apple-system, "Segoe UI", "Helvetica Neue", Arial;
    }
    html,body{height:100%;}
    html{scroll-behavior:smooth;} /* CSS fallback smooth scroll */
    body{
      margin:0;
      font-family:var(--font-sans);
      background: linear-gradient(180deg,var(--bg) 0%, #f6fbff 100%);
      color:#0b2130;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      justify-content:center;
      padding:40px 12px;
    }

    .wrap{
      width:100%;
      max-width:var(--maxw);
      background:transparent;
    }

    header{display:flex;align-items:center;gap:16px;margin-bottom:18px}
    .brand{
      display:flex;align-items:center;gap:12px;
    }
    .logo{
      width:56px;height:56px;border-radius:50%;background:var(--soft);display:flex;align-items:center;justify-content:center;box-shadow:var(--card-shadow);
    }
    .logo svg{width:30px;height:30px}
    .site-title{font-weight:600;font-size:18px;color:#08303e}

    /* Scenes layout */
    main{display:block}
    section.scene{
      min-height:72vh;
      margin:28px 0;
      padding:28px;
      border-radius:var(--radius);
      background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(233,244,251,0.6));
      box-shadow: 0 10px 30px rgba(10,30,50,0.04);
      position:relative;
      overflow:hidden;
    }

    /* Centered intro */
    .intro{
      display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:18px;padding:60px 18px;
    }
    .intro h1{margin:0;font-size:20px;color:#053441}
    .intro p{max-width:780px;color:#23414a;font-size:18px;margin:0}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:12px 18px;border-radius:12px;background:var(--accent);color:white;border:none;cursor:pointer;font-weight:600;box-shadow:0 6px 18px rgba(42,171,238,0.18);}
    .btn.ghost{background:transparent;color:var(--accent);border:1px solid rgba(42,171,238,0.12)}

    /* Scenes controls */
    .controls{display:flex;gap:12px;justify-content:center;margin-top:18px}

    /* Two-column Telegram mock */
    .mock{
      display:grid;grid-template-columns:320px 1fr;gap:18px;align-items:start;
    }
    .panel{
      background:rgba(255,255,255,0.8);border-radius:12px;padding:14px;box-shadow:var(--card-shadow);
    }

    /* Chat list */
    .chat-list{max-height:60vh;overflow:auto;padding:6px}
    .chat-item{display:flex;gap:12px;align-items:center;padding:10px;border-radius:10px;cursor:pointer}
    .chat-item:hover{background:linear-gradient(90deg, rgba(42,171,238,0.06), rgba(42,171,238,0.03))}
    .avatar{width:44px;height:44px;border-radius:12px;background:linear-gradient(135deg,var(--soft),#dff4ff);display:flex;align-items:center;justify-content:center;font-weight:700;color:#065}
    .chat-meta{flex:1}
    .chat-name{font-weight:600}
    .chat-last{font-size:13px;color:#507a88}

    /* Tooltip hint */
    .hint{position:fixed;background:#fff;border-radius:10px;padding:10px 12px;box-shadow:0 8px 24px rgba(6,60,80,0.08);font-size:13px;color:#0b3b46;pointer-events:none;opacity:0;transform:translateY(6px);transition:all .22s;z-index:60}

    /* Right placeholder */
    .placeholder{display:flex;align-items:center;justify-content:center;color:#6b8190;font-weight:600}

    /* Chat messages area */
    .messages{display:flex;flex-direction:column;gap:12px;height:60vh;overflow:auto;padding:16px}
    .msg{max-width:70%;padding:10px 14px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.03);}
    .msg.me{align-self:flex-end;background:linear-gradient(180deg,#e8f9ff,#dff5fb)}
    .msg.them{align-self:flex-start;background:white}
    .msg.small{font-size:13px}

    /* settings modal */
    .modal-backdrop{position:fixed;left:0;top:0;right:0;bottom:0;background:rgba(6,28,38,0.35);display:none;align-items:center;justify-content:center;z-index:80}
    .modal{background:white;padding:18px;border-radius:14px;max-width:520px;width:92%;box-shadow:0 18px 60px rgba(3,22,38,0.18)}
    .modal h3{margin:0 0 8px}
    .setting{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid rgba(6,30,40,0.04)}

    /* channels */
    .channel-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
    .post{background:white;border-radius:12px;padding:12px;box-shadow:var(--card-shadow);display:flex;flex-direction:column;gap:8px}
    .post img{width:100%;height:110px;object-fit:cover;border-radius:8px}
    .post .meta{font-size:13px;color:#2b4b57}

    /* zen mode */
    .zen{display:none;align-items:center;justify-content:center;min-height:60vh;text-align:center}
    .zen.visible{display:flex}
    .zen h2{font-size:22px;color:var(--accent);margin:0}
    .zen p{max-width:720px;color:#345b67;margin-top:8px}

    /* reflection */
    .reflection{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:14px;padding:60px 12px}
    .reflection blockquote{font-size:20px;line-height:1.4;margin:0;color:#07323b;font-weight:600}

    /* small screen tweaks */
    @media (max-width:880px){
      .mock{grid-template-columns:1fr}
      .logo{width:48px;height:48px}
      .intro p{font-size:16px}
    }

    /* mobile responsiveness fixes */
    @media (max-width:600px) {
      body { padding: 20px 8px; }
      .scene { min-height: auto; padding: 20px 12px; margin: 16px 0; }
      .intro { padding: 40px 12px; gap: 12px; }
      .intro h1 { font-size: 18px; }
      .intro p { font-size: 14px; }
      .mock { gap: 12px; }
      .panel { padding: 12px; }
      .chat-list { max-height: 40vh; } /* reduce for mobile */
      .messages { height: 40vh; } /* reduce for mobile */
      header { gap: 8px; margin-bottom: 12px; }
      .brand { gap: 8px; }
      .logo { width: 40px; height: 40px; }
      .site-title { font-size: 16px; }
      .btn { padding: 10px 14px; font-size: 14px; }
      .channel-grid { grid-template-columns: 1fr; gap: 8px; } /* stack posts on very small screens */
      .reflection { padding: 40px 12px; }
      .reflection blockquote { font-size: 18px; }
      .zen { min-height: 50vh; }
      .zen h2 { font-size: 18px; }
      .zen p { font-size: 14px; }
      .zen p { max-width: none; }
    }

    /* fix chat-list on tablets/mobiles: keep vertical, not horizontal */
    /* remove the horizontal flex from the original media query and ensure vertical scrolling */
    @media (max-width:880px){
      .chat-list { display: block; overflow: auto; gap: 0; } /* override flex to block */
    }

  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true">
          <!-- simple paper plane SVG in circle -->
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden>
            <circle cx="12" cy="12" r="11" fill="#e9f4fb" />
            <path d="M3 12L21 3L14 21L11 14L3 12Z" fill="#2aabee" opacity="0.95"/>
          </svg>
        </div>
        <div>
          <div class="site-title">–§–∏–ª–æ—Å–æ—Ñ–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ‚Äî Telegram</div>
          <div style="font-size:12px;color:#507a88">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π UX-–≥–∞–π–¥</div>
        </div>
      </div>
      <div style="margin-left:auto;display:flex;gap:8px;align-items:center">
        <button class="btn ghost" id="replayTop">–ü—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ</button>
        <button class="btn" id="zenBtn">–†–µ–∂–∏–º –ø—É—Å—Ç–æ—Ç—ã</button>
      </div>
    </header>

    <main>
      <!-- 1. Intro Scene -->
      <section id="intro" class="scene">
        <div class="intro">
          <div class="logo" style="width:96px;height:96px;border-radius:20px;box-shadow:0 16px 48px rgba(42,171,238,0.12);">
            <!-- bigger svg -->
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="12" cy="12" r="11" fill="#e9f4fb" />
              <path d="M3 12L21 3L14 21L11 14L3 12Z" fill="#2aabee" opacity="0.95"/>
            </svg>
          </div>
          <h1>–ß—Ç–æ, –µ—Å–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∞ –∑–µ—Ä–∫–∞–ª–æ –Ω–∞—à–µ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ —Å–≤–æ–±–æ–¥–µ, —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—é?</h1>
          <p>–ü–æ–≥—Ä—É–∑–∏—Ç–µ—Å—å –≤ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é UX Telegram ‚Äî –≥–¥–µ –º–∏–Ω–∏–º–∞–ª–∏–∑–º, —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —Å—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–ø–ª–µ—Ç–∞—é—Ç—Å—è –≤ –æ—â—É—â–µ–Ω–∏–∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –±–µ–∑ –¥–∞–≤–ª–µ–Ω–∏—è.</p>
          <div class="controls">
            <button class="btn" data-next="#chats">–ù–∞—á–∞—Ç—å —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é</button>
            <button class="btn ghost" id="introSkip">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∑–∞ –≥–æ–ª–æ–µ</button>
          </div>
        </div>
      </section>

      <!-- 2. Chats View -->
      <section id="chats" class="scene">
        <h2 style="margin-top:6px">–≠–∫—Ä–∞–Ω –¥–∏–∞–ª–æ–≥–æ–≤</h2>
        <p style="color:#507a88;max-width:800px">–ú–∏–Ω–∏–º–∞–ª–∏–∑–º –±–µ–∑ –Ω–∞–≤—è–∑—á–∏–≤–æ—Å—Ç–∏ ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏—Å—á–µ–∑–∞–µ—Ç, —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é.</p>
        <div class="mock" style="margin-top:16px">
          <div class="panel">
            <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
              <strong>–ß–∞—Ç—ã</strong>
              <button class="btn ghost" id="openSettings">‚öôÔ∏è</button>
            </div>
            <div class="chat-list" id="chatList">
              <!-- list items created by JS for clarity -->
            </div>
          </div>

          <div class="panel placeholder" id="chatsRight">
            –í—ã–±–µ—Ä–∏—Ç–µ –¥–∏–∞–ª–æ–≥
          </div>
        </div>
        <div style="margin-top:12px;color:#23414a;display:flex;gap:18px;flex-wrap:wrap">
          <div>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äî —Å—É–±—ä–µ–∫—Ç, –Ω–µ –æ–±—ä–µ–∫—Ç –∞–ª–≥–æ—Ä–∏—Ç–º–∞.</div>
          <div>–ù–µ—Ç –ª–µ–Ω—Ç—ã, –Ω–µ—Ç –¥–∞–≤–ª–µ–Ω–∏—è ‚Äî —Ç–æ–ª—å–∫–æ –≤—ã–±–æ—Ä.</div>
        </div>
      </section>

      <!-- 3. Chat View -->
      <section id="chat" class="scene">
        <h2>–≠–∫—Ä–∞–Ω –¥–∏–∞–ª–æ–≥–∞</h2>
        <p style="color:#507a88;max-width:800px">–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–ª—É—à–∞–µ—Ç ‚Äî —Å–æ–æ–±—â–µ–Ω–∏—è –∏–¥—É—Ç –≤ —Ä–∏—Ç–º–µ —á–µ–ª–æ–≤–µ–∫–∞, –Ω–µ —Å–∏—Å—Ç–µ–º—ã.</p>
        <div class="mock" style="margin-top:12px">
          <div class="panel chat-panel" style="padding:10px;">
            <div style="display:flex;align-items:center;gap:12px;margin-bottom:8px">
              <div class="avatar">AB</div>
              <div>
                <div style="font-weight:700">–ê–ª–µ–∫—Å–µ–π</div>
                <div style="font-size:13px;color:#507a88">–≤ —Å–µ—Ç–∏</div>
              </div>
            </div>
            <div class="messages" id="messages">
              <!-- messages generated in JS -->
            </div>
          </div>

          <div class="panel" style="display:flex;flex-direction:column;gap:8px;align-items:center;justify-content:center">
            <div style="font-weight:700;color:#08303e">–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è</div>
            <div style="font-size:14px;color:#40606b;text-align:center;max-width:260px">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ —Ñ—É–Ω–∫—Ü–∏—è—Ö.</div>
            <div style="margin-top:8px">
              <button class="btn" id="backToChats">–ù–∞–∑–∞–¥ –≤ —á–∞—Ç—ã</button>
            </div>
          </div>
        </div>
      </section>

      <!-- 4. Settings -->
      <section id="settingsScene" class="scene">
        <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
        <p style="color:#507a88">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å—É–≤–µ—Ä–µ–Ω–∏—Ç–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.</p>
        <div style="margin-top:12px;display:flex;gap:14px;flex-wrap:wrap">
          <div class="panel" style="flex:1;min-width:220px">
            <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
              <div style="font-weight:700">–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å</div>
              <div style="color:#507a88">–ê–∫—Ç–∏–≤–Ω–∞</div>
            </div>
            <div style="font-size:14px;color:#45686f">–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å ‚Äî —Ñ–æ—Ä–º–∞ —Å–∞–º–æ—É–≤–∞–∂–µ–Ω–∏—è.</div>
          </div>
          <div class="panel" style="flex:1;min-width:220px">
            <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
              <div style="font-weight:700">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è</div>
              <div style="color:#507a88">–í–∫–ª—é—á–µ–Ω–æ</div>
            </div>
            <div style="font-size:14px;color:#45686f">–ö–æ–Ω—Ç—Ä–æ–ª—å ‚Äî –Ω–µ –ø–∞—Ä–∞–Ω–æ–π—è, –∞ —Å—É–≤–µ—Ä–µ–Ω–∏—Ç–µ—Ç.</div>
          </div>
        </div>
      </section>

      <!-- 5. Channels / Media -->
      <section id="channels" class="scene">
        <h2>–ö–∞–Ω–∞–ª—ã –∏ –º–µ–¥–∏–∞</h2>
        <p style="color:#507a88">–ö–æ–Ω—Ç–µ–Ω—Ç ‚Äî –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –æ–±—â–µ–Ω–∏—è. –ó–¥–µ—Å—å –Ω–µ—Ç —Å—Ü–µ–Ω—ã ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫.</p>
        <div style="margin-top:12px" class="channel-grid" id="channelGrid">
          <!-- posts inserted by JS -->
        </div>
      </section>

      <!-- 6. Zen Mode (hidden, toggled) -->
      <section id="zenMode" class="scene">
        <div class="zen" id="zenBox">
          <div>
            <h2>–ö–æ–≥–¥–∞ –∏—Å—á–µ–∑–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–±—â–µ–Ω–∏–µ.</h2>
            <p>–ò–¥–µ–∞–ª—å–Ω—ã–π UX ‚Äî —Ç–æ—Ç, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ –≤–∏–¥–Ω–æ.</p>
            <div style="margin-top:12px">
              <button class="btn ghost" id="exitZen">–í–µ—Ä–Ω—É—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</button>
            </div>
          </div>
        </div>
      </section>

      <!-- 7. Reflection -->
      <section id="reflect" class="scene">
        <div class="reflection">
          <blockquote>–ö–∞–∂–¥—ã–π –¥–∏–∑–∞–π–Ω ‚Äî —ç—Ç–æ –º–∏—Ä–æ–≤–æ–∑–∑—Ä–µ–Ω–∏–µ.<br>Telegram ‚Äî —ç—Ç–æ –≤–µ—Ä–∞ –≤ —á–µ–ª–æ–≤–µ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç –±—ã—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–º.</blockquote>
          <div style="display:flex;gap:10px">
            <button class="btn" id="repeat">–ü—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ</button>
            <button class="btn ghost" id="shareQuote">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∏–Ω—Å–∞–π—Ç–æ–º</button>
          </div>
        </div>
      </section>

    </main>

    <!-- Floating hint tooltip -->
    <div id="hint" class="hint" role="status" aria-hidden="true"></div>

    <!-- settings modal (for ‚öôÔ∏è) -->
    <div id="modalBackdrop" class="modal-backdrop" aria-hidden="true">
      <div class="modal" role="dialog" aria-modal="true">
        <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
        <div class="setting">
          <div>
            <div style="font-weight:700">–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å</div>
            <div style="font-size:13px;color:#507a88">–ö—Ç–æ –≤–∏–¥–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è ‚Äî –≤—ã —Ä–µ—à–∞–µ—Ç–µ.</div>
          </div>
          <div style="font-weight:600;color:#2aabee">–í–∫–ª</div>
        </div>
        <div class="setting">
          <div>
            <div style="font-weight:700">–°–æ–æ–±—â–µ–Ω–∏—è</div>
            <div style="font-size:13px;color:#507a88">–°–∞–º–æ—É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ ‚Äî —ç—Ñ–µ–º–µ—Ä–Ω–æ—Å—Ç—å –≤ –¥–µ–π—Å—Ç–≤–∏–∏.</div>
          </div>
          <div style="font-weight:600;color:#2aabee">–í–∫–ª</div>
        </div>
        <div style="margin-top:12px;text-align:right">
          <button class="btn ghost" id="closeModal">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
      </div>
    </div>

  </div>

  <!-- JavaScript (can be moved to script.js) -->
  <script>
    // Small helper to create elements easily
    const $ = (q,ctx=document)=>ctx.querySelector(q);
    const $$ = (q,ctx=document)=>Array.from(ctx.querySelectorAll(q));

    // Scenes navigation
    document.querySelectorAll('[data-next]').forEach(btn=>{
      btn.addEventListener('click',e=>{
        const sel = btn.getAttribute('data-next');
        document.querySelector(sel).scrollIntoView({behavior:'smooth',block:'center'});
      });
    });

    // Replay / top button
    $('#replayTop').addEventListener('click', ()=>{
      document.getElementById('intro').scrollIntoView({behavior:'smooth'});
    });
    $('#repeat').addEventListener('click', ()=>{ document.getElementById('intro').scrollIntoView({behavior:'smooth'}); });

    // Zen mode toggle
    const zenBtn = $('#zenBtn');
    const zenBox = $('#zenBox');
    const wrap = document.querySelector('.wrap');
    zenBtn.addEventListener('click', ()=>{
      zenBox.classList.add('visible');
      // scroll to zen section
      document.getElementById('zenMode').scrollIntoView({behavior:'smooth',block:'center'});
      // subtly hide other sections visually
      document.querySelectorAll('main > section:not(#zenMode)').forEach(s=>s.style.opacity='0.08');
    });
    $('#exitZen').addEventListener('click', ()=>{
      zenBox.classList.remove('visible');
      document.querySelectorAll('main > section').forEach(s=>s.style.opacity='1');
      document.getElementById('intro').scrollIntoView({behavior:'smooth'});
    });

    // Hint tooltip
    const hint = $('#hint');
    function showHint(text,x,y){
      hint.textContent = text;
      hint.style.left = (x+14)+'px';
      hint.style.top = (y+14)+'px';
      hint.style.opacity = '1';
      hint.setAttribute('aria-hidden','false');
    }
    function hideHint(){
      hint.style.opacity = '0';
      hint.setAttribute('aria-hidden','true');
    }

    // Create fake chat list
    const chats = [
      {name:'–ê–ª–∏—Å–∞',last:'–ü—Ä–∏—Å—ã–ª–∞—é —Ñ–æ—Ç–æ',id:'c1'},
      {name:'–ë–∏–∑–Ω–µ—Å',last:'–ù–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ',id:'c2'},
      {name:'–î–∏–∑–∞–π–Ω',last:'–ú–æ–∂–µ—Ç —Å–¥–µ–ª–∞–µ–º —Ç–∞–∫?',id:'c3'},
      {name:'–ü–∞–±–ª–∏–∫',last:'–°–µ–≥–æ–¥–Ω—è –≤ 19:00',id:'c4'},
      {name:'–ö—Å—é—à–∞',last:'üòÇüòÇüòÇ',id:'c5'},
    ];
    const chatList = $('#chatList');
    chats.forEach(c=>{
      const el = document.createElement('div'); el.className='chat-item'; el.dataset.hint='–ú–∏–Ω–∏–º–∞–ª–∏–∑–º –±–µ–∑ –Ω–∞–≤—è–∑—á–∏–≤–æ—Å—Ç–∏ ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏—Å—á–µ–∑–∞–µ—Ç, —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é.';
      el.innerHTML = `<div class="avatar">${c.name.slice(0,2)}</div><div class="chat-meta"><div class="chat-name">${c.name}</div><div class="chat-last">${c.last}</div></div>`;
      el.addEventListener('mouseenter', e=>{
        const rect = el.getBoundingClientRect(); showHint(el.dataset.hint,rect.right,rect.top);
      });
      el.addEventListener('mouseleave', hideHint);
      el.addEventListener('click', ()=>{
        // open chat scene and populate messages
        document.getElementById('chat').scrollIntoView({behavior:'smooth',block:'center'});
        populateMessages(c);
      });
      chatList.appendChild(el);
    });

    // Messages data
    function populateMessages(chat){
      const msgs = [
        {who:'them',text:'–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞? üòä',note:'–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –¥–∏–∫—Ç—É–µ—Ç ‚Äî –æ–Ω —Å–ª—É—à–∞–µ—Ç.'},
        {who:'me',text:'–í—Å—ë –æ—Ç–ª–∏—á–Ω–æ, —Ä–∞–±–æ—Ç–∞—é –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º.',note:'–°–∞–º–æ—É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ ‚Äî —Ñ–æ—Ä–º–∞ —ç—Ñ–µ–º–µ—Ä–Ω–æ—Å—Ç–∏.'},
        {who:'them',text:'–û—Ç–ø—Ä–∞–≤–ª—è—é —Å—Ç–∏–∫–µ—Ä',note:'–°—Ç–∏–∫–µ—Ä—ã ‚Äî —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —è–∑—ã–∫.'},
        {who:'me',text:'–§–æ—Ç–æ –Ω–∏–∂–µ',note:'–£–¥–∞–ª–∏—Ç—å –¥–ª—è –≤—Å–µ—Ö ‚Äî –≤–ª–∞—Å—Ç—å –Ω–∞–¥ –≤—Ä–µ–º–µ–Ω–µ–º.'},
      ];
      const container = $('#messages'); container.innerHTML='';
      msgs.forEach(m=>{
        const d = document.createElement('div'); d.className='msg '+(m.who==='me'?'me':'them')+' small'; d.textContent = m.text;
        d.dataset.note = m.note;
        d.addEventListener('click',(e)=>{
          // show tooltip near message
          const r = d.getBoundingClientRect(); showHint(d.dataset.note, r.right, r.top);
          // dismiss after 3s
          setTimeout(hideHint,3000);
        });
        container.appendChild(d);
      });
      // scroll to bottom
      setTimeout(()=>container.scrollTop = container.scrollHeight,120);
    }

    // Back to chats
    $('#backToChats').addEventListener('click', ()=>{ document.getElementById('chats').scrollIntoView({behavior:'smooth',block:'center'}); });

    // Settings modal
    $('#openSettings').addEventListener('click', ()=>{ $('#modalBackdrop').style.display='flex'; $('#modalBackdrop').setAttribute('aria-hidden','false'); });
    $('#closeModal').addEventListener('click', ()=>{ $('#modalBackdrop').style.display='none'; $('#modalBackdrop').setAttribute('aria-hidden','true'); });

        // Channels grid population
    const posts = [
      {title:'–£—Ç—Ä–µ–Ω–Ω–∏–π –¥–∞–π–¥–∂–µ—Å—Ç',img:'https://picsum.photos/seed/1/400/300'},
      {title:'–î–∏–∑–∞–π–Ω-–º—ã—à–ª–µ–Ω–∏–µ',img:'https://picsum.photos/seed/2/400/300'},
      {title:'–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏',img:'https://picsum.photos/seed/3/400/300'},
      {title:'–§–∏–ª–æ—Å–æ—Ñ–∏—è –æ–±—â–µ–Ω–∏—è',img:'https://picsum.photos/seed/4/400/300'},
    ];
    const grid = $('#channelGrid');
    posts.forEach(p=>{
      const c = document.createElement('div'); c.className='post';
      c.innerHTML = `<div style="font-weight:700">${p.title}</div><img src="${p.img}" alt="${p.title}"><div class="meta">–ö–æ–Ω—Ç–µ–Ω—Ç –∫–∞–∫ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –æ–±—â–µ–Ω–∏—è</div><div style="margin-top:auto;display:flex;justify-content:flex-end"><button class="btn ghost openPost">–û—Ç–∫—Ä—ã—Ç—å</button></div>`;
      c.addEventListener('mouseenter',e=>{
        showHint('–ö–æ–Ω—Ç–µ–Ω—Ç –Ω–µ —Ü–µ–ª—å ‚Äî –æ–Ω –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –æ–±—â–µ–Ω–∏—è.',e.clientX,e.clientY);
      });
      c.addEventListener('mouseleave',hideHint);
      c.querySelector('.openPost').addEventListener('click',()=>{
        alert(p.title + '\n\n"–ó–¥–µ—Å—å –Ω–µ—Ç —Å—Ü–µ–Ω—ã ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫."');
      });
      grid.appendChild(c);
    });


    // share quote
    $('#shareQuote').addEventListener('click', ()=>{
      const text = '–ö–∞–∂–¥—ã–π –¥–∏–∑–∞–π–Ω ‚Äî —ç—Ç–æ –º–∏—Ä–æ–≤–æ–∑–∑—Ä–µ–Ω–∏–µ. Telegram ‚Äî —ç—Ç–æ –≤–µ—Ä–∞ –≤ —á–µ–ª–æ–≤–µ–∫–∞.';
      // friendly UI modal-like quick share
      alert('–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∏–Ω—Å–∞–π—Ç–æ–º:\n\n'+text);
    });


    // small UX: hide hint when clicking elsewhere
    document.addEventListener('click', (e)=>{
      if(!e.target.closest('.chat-item') && !e.target.closest('.msg') && !e.target.closest('.post')) hideHint();
    });


    // small accessibility: focus outline for keyboard nav
    document.addEventListener('keydown', e=>{
      if(e.key==='Tab') document.body.classList.add('show-focus');
    });


    // initial scroll to top
    document.getElementById('intro').scrollIntoView();


  </script>
</body>
</html>
